<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Forged By Freedom Betting Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
    body {
        margin: 0;
        padding: 0;
        background: #000;
        color: #fff;
        font-family: Arial, sans-serif;
    }

    /* Header */
    .header {
        text-align: center;
        padding: 30px 10px 20px 10px;
        border-bottom: 1px solid #222;
        position: relative;
    }

    /* Orange glow */
    .glow {
        color: #ff8c00;
        text-shadow: 0 0 12px #ff8c00, 0 0 20px #ff6600, 0 0 30px #ff4500;
        animation: pulse 2.5s infinite ease-in-out;
    }

    @keyframes pulse {
        0%   { text-shadow: 0 0 10px #ff8c00; }
        50%  { text-shadow: 0 0 25px #ff4500; }
        100% { text-shadow: 0 0 10px #ff8c00; }
    }

    a {
        color: #ff8c00;
        text-decoration: none;
    }
    a:hover {
        text-decoration: underline;
    }

    .game-card {
        border-bottom: 1px solid #222;
        padding: 15px;
        margin: 0 12px;
    }

    .team-line {
        font-size: 18px;
        margin-bottom: 5px;
    }

    .favorite-tag {
        color: #ff8c00;
        font-weight: bold;
    }

    .sport-title {
        font-size: 22px;
        margin-top: 30px;
        margin-bottom: 10px;
        text-align: center;
        color: #ff8c00;
    }

</style>
</head>

<body>

<div class="header">
    <div class="glow" style="font-size:20px;">
        Provided to you by  
        <a href="https://forgedbyfreedom.org" target="_blank">ForgedByFreedom.org</a>
    </div>

    <div class="glow" style="font-size:34px; margin-top:8px;">
        FORGED BY FREEDOM STRENGTH AND NUTRITION
    </div>

    <div class="glow" style="font-size:20px; margin-top:5px;">
        STRENGTH – DISCIPLINE – FREEDOM
    </div>

    <div style="margin-top:10px; font-size:16px; color:#ccc;">
        Visit us for all your fitness, nutrition and supplement program needs
        <br><br>
        <span style="font-size:14px; color:#666;">For entertainment purposes only</span>
    </div>
</div>

<div id="sports-container"></div>

<script>
async function loadJson(url) {
    const r = await fetch(url);
    if (!r.ok) return null;
    return await r.json();
}

function safeSportLabel(key) {
    if (!key) return "SPORT";
    return key.replace(/_/g, " ").toUpperCase();
}

function renderSports(data) {
    const container = document.getElementById("sports-container");
    container.innerHTML = "";

    const bySport = {};
    data.forEach(g => {
        if (!bySport[g.sport_key]) bySport[g.sport_key] = [];
        bySport[g.sport_key].push(g);
    });

    for (const sportKey of Object.keys(bySport)) {
        const sportDiv = document.createElement("div");

        const title = document.createElement("div");
        title.className = "sport-title";
        title.textContent = safeSportLabel(sportKey);
        sportDiv.appendChild(title);

        bySport[sportKey].forEach(g => {
            const card = document.createElement("div");
            card.className = "game-card";

            const favText = g.favorite ? g.favorite : (g.fav_team ? `${g.fav_team} -${g.spread}` : "");
            const matchup = `${g.away_team} @ ${g.home_team}`;

            card.innerHTML = `
                <div class="team-line"><span class="favorite-tag">${favText}</span></div>
                <div>${matchup}</div>
                <div style="color:#888; margin-top:4px;">Total: ${g.total ?? "N/A"}</div>
                <div style="color:#555; font-size:13px; margin-top:4px;">
                    ${new Date(g.commence_time).toLocaleString()}
                </div>
            `;
            sportDiv.appendChild(card);
        });

        container.appendChild(sportDiv);
    }
}

async function boot() {
    const combined = await loadJson("https://data.forgedbyfreedom.org/combined.json");
    if (!combined || !combined.data) {
        document.getElementById("sports-container").innerHTML =
            "<div style='padding:20px; text-align:center;'>No games available.</div>";
        return;
    }
    renderSports(combined.data);
}

boot();
</script>

</body>
</html>
