nano index.html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Forged By Freedom ‚Äî Live Odds & Picks</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    :root {
      --bg: #05070b;
      --card-bg: #0c1018;
      --card-bg-alt: #0f141e;
      --accent: #ff7a1a;
      --accent-soft: #ffb266;
      --text: #f5f7ff;
      --muted: #9ba3b8;
      --border-soft: #252b3a;
      --danger: #ff4b5c;
      --warning: #facc15;
      --success: #22c55e;
      --chip-bg: #151a24;
      --chip-active-bg: #ff7a1a;
      --chip-active-text: #05070b;
      --badge-bg: #111827;
    }

    body {
      margin: 0;
      padding: 12px;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top left, #111827, #020308 55%) fixed;
      color: var(--text);
    }

    #app { max-width: 1400px; margin: 0 auto; }

    header {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      gap: 14px;
      margin-bottom: 18px;
      padding: 18px 10px;
      background: rgba(12,16,24,0.9);
      border: 1px solid var(--border-soft);
      border-radius: 14px;
      box-shadow: 0 8px 28px rgba(0,0,0,0.5);
      position: sticky;
      top: 8px;
      backdrop-filter: blur(6px);
      z-index: 10;
    }

    .brand-title {
      font-size: 38px;
      font-weight: 900;
      color: var(--accent);
      letter-spacing: 1.4px;
      text-shadow: 0 0 6px #ff7a1a, 0 0 12px #ff7a1a;
      animation: pulseGlow 2.2s ease-in-out infinite;
    }

    @keyframes pulseGlow {
      0% { text-shadow: 0 0 4px #ff7a1a, 0 0 8px #ff7a1a; }
      50% { text-shadow: 0 0 12px #ffb266, 0 0 24px #ff7a1a; }
      100% { text-shadow: 0 0 4px #ff7a1a, 0 0 8px #ff7a1a; }
    }

    .brand-sub {
      font-size: 14px;
      color: var(--muted);
      letter-spacing: 1px;
    }

    .brand-url {
      font-size: 12px;
      color: var(--accent-soft);
      letter-spacing: 2px;
      font-weight: 700;
    }

    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      justify-content: center;
    }

    .chip {
      background: var(--chip-bg);
      border: 1px solid var(--border-soft);
      color: var(--text);
      padding: 6px 12px;
      border-radius: 999px;
      font-size: 13px;
      cursor: pointer;
      user-select: none;
      transition: 120ms ease;
    }
    .chip.active {
      background: var(--chip-active-bg);
      color: var(--chip-active-text);
      font-weight: 700;
      border-color: transparent;
    }

    .statusline {
      font-size: 11px;
      color: var(--muted);
      text-align: center;
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .cards-grid {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 14px;
      margin-top: 14px;
    }
    @media (max-width: 1000px) { .cards-grid { grid-template-columns: repeat(2, 1fr); } }
    @media (max-width: 700px) { .cards-grid { grid-template-columns: 1fr; } }

    .game-card {
      background: radial-gradient(circle at top left, var(--card-bg-alt), var(--card-bg));
      border: 1px solid var(--border-soft);
      border-radius: 14px;
      padding: 10px;
      display: flex;
      flex-direction: column;
      gap: 6px;
      box-shadow: 0 10px 28px rgba(0,0,0,0.6);
    }

    .sport-badge {
      background: var(--badge-bg);
      border: 1px solid var(--border-soft);
      padding: 2px 8px;
      border-radius: 999px;
      font-size: 10px;
      font-weight: 700;
      color: var(--text);
    }

    .matchup-line {
      font-size: 15px;
      font-weight: 800;
      margin-top: 2px;
    }

    .team-line { font-size: 11px; color: var(--muted); display: flex; justify-content: space-between; }
    .team-line strong { color: var(--text); }

    .picks-block {
      border-top: 1px dashed #1f2937;
      padding-top: 6px;
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 6px;
    }

    .pick {
      background: rgba(17,24,39,0.85);
      border: 1px solid var(--border-soft);
      border-radius: 10px;
      padding: 6px;
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .pick-main { font-size: 12px; font-weight: 800; }
    .conf { font-size: 10px; padding: 1px 6px; border-radius: 999px; }
    .conf.low  { background: rgba(255,75,92,0.16); color: var(--danger); }
    .conf.med  { background: rgba(250,204,21,0.16); color: var(--warning); }
    .conf.high { background: rgba(34,197,94,0.16); color: var(--success); }

    .meta-row { font-size: 10px; color: var(--muted); display: flex; flex-wrap: wrap; gap: 6px; }
    .meta-pill {
      background: rgba(21,26,36,0.75);
      border: 1px solid var(--border-soft);
      border-radius: 999px;
      padding: 2px 6px;
    }
  </style>
</head>

<body>
<div id="app">
  <header>
    <div class="brand-title">FORGED BY FREEDOM</div>
    <div class="brand-sub">Strength ‚Äì Discipline ‚Äì Freedom</div>
    <div class="brand-url">FORGEDBYFREEDOM.org</div>

    <div class="controls" id="sport-filters"></div>
    <div class="statusline" id="statusline"><div>Loading‚Ä¶</div></div>
  </header>

  <main class="cards-grid" id="cards-grid"></main>
  <div class="empty" id="empty" style="display:none;text-align:center;color:#999;">No upcoming games.</div>
</div>

<script>
const CACHE_BUST = () => "?cb=" + Date.now();

const SPORT_LABELS = {
  "americanfootball_nfl": "NFL",
  "americanfootball_ncaaf": "NCAAF",
  "basketball_nba": "NBA",
  "basketball_ncaab": "NCAAB",
  "icehockey_nhl": "NHL",
  "baseball_mlb": "MLB",
  "mma_mixed_martial_arts": "UFC"
};

let ACTIVE_SPORT = "ALL";

async function loadJsonSafe(path) {
  try {
    const r = await fetch(path + CACHE_BUST());
    if (!r.ok) throw new Error(path + " " + r.status);
    return await r.json();
  } catch (e) {
    console.warn("missing/failed", path, e);
    return null;
  }
}

function indexBy(items) {
  const byId = new Map();
  const byMatch = new Map();
  (items || []).forEach(g => {
    if (g.event_id) byId.set(String(g.event_id), g);
    if (g.matchup) byMatch.set(g.matchup.toLowerCase(), g);
  });
  return { byId, byMatch };
}

function mergeGame(game, idx) {
  const id = game.event_id ? String(game.event_id) : null;
  const key = game.matchup?.toLowerCase();

  return {
    ...game,
    pick: idx.picks.byId.get(id) || idx.picks.byMatch.get(key) || null,
    wx:   idx.weather.byId.get(id) || idx.weather.byMatch.get(key) || null,
    ref:  idx.refs.byId.get(id) || idx.refs.byMatch.get(key) || null,
    inj:  idx.inj.byId.get(id) || idx.inj.byMatch.get(key) || null
  };
}

function buildFilters(games) {
  const filters = document.getElementById("sport-filters");
  filters.innerHTML = "";

  const sports = [...new Set(games.map(g => g.sport_key))];
  ["ALL", ...sports].forEach(sk => {
    const chip = document.createElement("div");
    chip.className = "chip" + (ACTIVE_SPORT === sk ? " active" : "");
    chip.textContent = sk === "ALL" ? "All Sports" : SPORT_LABELS[sk] || sk;
    chip.onclick = () => { ACTIVE_SPORT = sk; render(games); buildFilters(games); };
    filters.appendChild(chip);
  });
}

function render(gamesMerged) {
  const grid = document.getElementById("cards-grid");
  const empty = document.getElementById("empty");
  grid.innerHTML = "";

  const now = new Date();
  const TEN_DAYS = 10 * 86400000;

  const games = gamesMerged
    .filter(g => {
      const t = new Date(g.commence_time);
      return t - now > -7200000 && t - now < TEN_DAYS;
    })
    .filter(g => ACTIVE_SPORT === "ALL" || g.sport_key === ACTIVE_SPORT)
    .sort((a,b) => new Date(a.commence_time) - new Date(b.commence_time));

  if (!games.length) { empty.style.display = "block"; return; }
  empty.style.display = "none";

  games.forEach(g => {
    const card = document.createElement("div");
    card.className = "game-card";

    const p = g.pick || {};
    const su = p.SU_pick || "‚Äî";
    const ats = p.ATS_pick || "‚Äî";
    const ou = p.OU_pick || "‚Äî";

    const suC = p.SU_conf ? `(${p.SU_conf}%)` : "";
    const atsC = p.ATS_conf ? `(${p.ATS_conf}%)` : "";
    const ouC = p.OU_conf ? `(${p.OU_conf}%)` : "";

    const refHome = g.ref?.ref_home_win_pct != null
      ? `${Math.round(g.ref.ref_home_win_pct*100)}% home`
      : null;

    const refOver = g.ref?.ref_over_pct != null
      ? `${Math.round(g.ref.ref_over_pct*100)}% over`
      : null;

    card.innerHTML = `
      <div style="display:flex;justify-content:space-between;font-size:11px;color:#9ba3b8">
        <span class="sport-badge">${SPORT_LABELS[g.sport_key] || g.sport_key}</span>
        <span>${(g.book || "ESPN").toUpperCase()}</span>
      </div>

      <div class="matchup-line">${g.matchup}</div>

      <div class="team-line"><span>Favorite</span><strong>${g.fav_team} ${g.fav_spread > 0 ? "+"+g.fav_spread : g.fav_spread}</strong></div>
      <div class="team-line"><span>Dog</span><strong>${g.dog_team}</strong></div>
      <div class="team-line"><span>Kickoff</span><span>${new Date(g.commence_time).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})}</span></div>

      <div class="picks-block">
        <div class="pick">
          <div class="pick-main">${su} ${suC}</div>
        </div>
        <div class="pick">
          <div class="pick-main">${ats} ${atsC}</div>
        </div>
        <div class="pick">
          <div class="pick-main">${ou} ${ouC}</div>
        </div>
      </div>

      <div class="meta-row">
        ${refHome ? `<div class="meta-pill">üë®‚Äç‚öñÔ∏è ${refHome}</div>` : ""}
        ${refOver ? `<div class="meta-pill">OU ${refOver}</div>` : ""}
      </div>
    `;

    grid.appendChild(card);
  });
}

async function boot() {
  const status = document.getElementById("statusline");
  status.innerHTML = `<div>Loading‚Ä¶</div>`;

  const [combined, predictions, weather, refs, injuries] = await Promise.all([
    loadJsonSafe("combined.json"),
    loadJsonSafe("predictions.json"),
    loadJsonSafe("weather.json"),
    loadJsonSafe("referee_trends.json"),
    loadJsonSafe("injuries.json")
  ]);

  const games = combined?.data || [];
  const picks = predictions?.data || [];
  const wx = weather?.data || [];
  const rr = refs?.officials || [];
  const inj = injuries?.data || [];

  const idx = {
    picks: indexBy(picks),
    weather: indexBy(wx),
    refs: indexBy(rr),
    inj: indexBy(inj)
  };

  const merged = games.map(g => mergeGame(g, idx));

  buildFilters(merged);
  render(merged);

  status.innerHTML = `
    <div>Odds: ${combined?.timestamp || "‚Äî"}</div>
    <div>Picks: ${predictions?.timestamp || "‚Äî"}</div>
    <div>Weather: ${weather?.timestamp || "‚Äî"}</div>
    <div>Refs: ${refs?.timestamp || "‚Äî"}</div>
    <div class="ok">Data synced</div>
  `;
}

boot();
</script>

</body>
</html>
