<script>
  function resolveFavorite(game){
    // Strict: use only explicit fields; do not infer from single 'spread'
    const away = game.away_team || (game.matchup||"").split("@")[0]?.trim() || "";
    const home = game.home_team || (game.matchup||"").split("@")[1]?.trim() || "";

    if (game.favorite_team && typeof game.fav_spread === 'number') {
      return {
        favorite: game.favorite_team,
        dog: game.dog_team || (game.favorite_team===home ? away : home),
        favSpread: Number(game.fav_spread),  // already negative
        away, home
      };
    }

    // No explicit favorite fields => don't guess.
    return { favorite: "— needs team spread —", dog: "", favSpread: null, away, home };
  }
</script>

